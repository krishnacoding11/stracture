import 'dart:async';

import 'package:field/data/model/sync/sync_request_task.dart';
import 'package:field/database/db_service.dart';
import 'package:field/domain/use_cases/formtype/formtype_use_case.dart';
import 'package:field/networking/network_request.dart';
import 'package:field/networking/network_response.dart';
import 'package:field/offline_injection_container.dart' as offline_di;
import 'package:field/sync/pool/task_pool.dart';
import 'package:field/sync/task/formtype_list_sync_task.dart';
import 'package:field/utils/constants.dart';
import 'package:field/utils/field_enums.dart';
import 'package:flutter_test/flutter_test.dart';
import 'package:mocktail/mocktail.dart';
import 'package:sqlite3/sqlite3.dart';

import '../../bloc/mock_method_channel.dart';
import '../../fixtures/appconfig_test_data.dart';
import '../../fixtures/fixture_reader.dart';

class MockFormTypeUseCase extends Mock implements FormTypeUseCase {}

class DBServiceMock extends Mock implements DBService {}

void main() {
  TestWidgetsFlutterBinding.ensureInitialized();
  MockMethodChannel().setNotificationMethodChannel();
  AConstants.adoddleUrl = 'https://adoddleqaak.asite.com/';
  offline_di.init(test: true);
  MockMethodChannel().setUpGetApplicationDocumentsDirectory();
  AppConfigTestData().setupAppConfigTestData();
  MockFormTypeUseCase? mockFormTypeUseCase;
  DBServiceMock? mockDb;
  TaskPool taskPool = offline_di.getIt<TaskPool>();
  num? taskNumber = -9007199254740991;

  configureDependencies() async {
    MockMethodChannel().setConnectivity();
    mockFormTypeUseCase = MockFormTypeUseCase();
    mockDb = DBServiceMock();
    offline_di.getIt.unregister<FormTypeUseCase>();
    offline_di.getIt.unregister<DBService>();
    offline_di.getIt.registerLazySingleton<FormTypeUseCase>(() => mockFormTypeUseCase!);
    offline_di.getIt.registerFactoryParam<DBService, String, void>((filePath, _) => mockDb!);
  }

  setUp(() {
    configureDependencies();
  });

  tearDown(() {
    reset(mockDb);
    reset(mockFormTypeUseCase);
  });


  group("FormTypeListSyncTask Test", () {
    test("FormTypeList Sync Success wih ETemplateType:html and xsn", () async {
      var createQuery = "CREATE TABLE IF NOT EXISTS FormGroupAndFormTypeListTbl(ProjectId INTEGER NOT NULL,FormTypeId INTEGER NOT NULL,FormTypeGroupId INTEGER NOT NULL,FormTypeGroupName TEXT NOT NULL,FormTypeGroupCode TEXT,FormTypeName TEXT NOT NULL,AppBuilderId TEXT NOT NULL,InstanceGroupId INTEGER NOT NULL,TemplateTypeId INTEGER NOT NULL DEFAULT 1,FormTypeDetailJson TEXT,AllowLocationAssociation INTEGER NOT NULL DEFAULT 0,CanCreateForms INTEGER NOT NULL DEFAULT 0,AppTypeId TEXT,PRIMARY KEY(ProjectId,FormTypeId))";
      var tableName = "FormGroupAndFormTypeListTbl";
      List<String> primaryKeysList = ["ProjectId"];
      List<Map<String, dynamic>> rowList = [
        {"ProjectId": 2130192, "FormTypeId": 11104955, "FormTypeGroupId": 402, "FormTypeGroupName": "Correspondence", "FormTypeGroupCode": "DISC", "FormTypeName": "Discussion", "AppBuilderId": "STD-DIS", "InstanceGroupId": 11018088, "TemplateTypeId": 2, "FormTypeDetailJson": '{"createFormsLimit":0,"canAccessPrivilegedForms":true,"formTypeID":"11104955","allow_attachments":true,"formTypesDetail":{"formTypeVO":{"formTypeID":"11104955","formTypeName":"Discussion","code":"DISC","use_controller":false,"response_allowed":true,"show_responses":true,"allow_reopening_form":true,"default_action":"-1","is_default":false,"allow_forwarding":true,"allow_distribution_after_creation":true,"allow_distribution_originator":true,"allow_distribution_recipients":true,"allow_forward_originator":true,"allow_forward_recipients":true,"responders_collaborate":true,"continue_discussion":false,"hide_orgs_and_users":false,"has_hyperlink":false,"allow_attachments":true,"allow_doc_associates":true,"allow_form_asso'
            'ciations":true,"allow_attributes":false,"associations_extend_doc_issue":false,"public_message":false,"browsable_attachment_folder":false,"has_overall_status":true,"is_instance":true,"form_type_group_id":402,"instance_group_id":"11018088","ctrl_change_status":false,"parent_formtype_id":"10052172","orig_change_status":true,"orig_can_close":false,"upload_logo":false,"user_ref":false,"allow_comment_associations":false,"is_public":false,"is_active":true,"signatureBox":"000","xsnFile":"2327196.zip","xmlData":"<my:myFields xmlns:my=\"http://schemas.microsoft.com/office/infopath/2003/myXSD/2015-08-11T07:43:54\"><my:ORI_ORIGINATOR/><my:RES_FINALSUMMARY/><my:ORI_DETAILS/><my:ORI_FORMTITLE/><my:RES_RESPONSE/><my:Asite_System_Data_Read_Write><my:ORI_MSG_Fields><my:SP_RES_PRINT_VIEW>DS_WORKINGUSER</my:SP_RES_PRINT_VIEW><my:SP_RES_VIEW>DS_WORKINGUSER</my:SP_RES_VIEW><my:SP_ORI_PRINT_VIEW>DS_WORKINGUSER</my:SP_ORI_PRINT_VIEW><my:SP_ORI_VIEW>DS_WORKINGUSER</my:SP_ORI_VIEW></my:ORI_MSG_Fields></my:Asite_System_Data_Read_Write><my:ORI_CREATEDATE/></my:myFields>","templateType":2,"responsePattern":0,"fixedFieldIds":"20,22,","displayFileName":"Discussion.zip","viewIds":"3,1,2,4,","mandatoryDistribution":0,"responseFromAll":false,"subTemplateType":0,"integrateExchange":false,"allowEditingORI":false,"allowImportExcelInEditORI":false,"isOverwriteExcelInEditORI":true,"enableECatalague":false,"formGroupName":"Correspondence","projectId":"2130192","clonedFormTypeId":0,"appBuilderFormIDCode":"STD-DIS","loginUserId":2017529,"xslFileName":"","allowImportForm":false,"allowWorkspaceLink":false,"linkedWorkspaceProjectId":"-1","createFormsLimit":0,"spellCheckPrefs":"11","isMobile":false,"createFormsLimitLevel":0,"restrictChangeFormStatus":0,"enableDraftResponses":0,"isDistributionFromGroupOnly":false,"isAutoCreateOnStatusChange":false,"docAssociationType":1,"viewFieldIdsData":"<root><views><viewid>2</viewid><view_name>ORI_PRINT_VIEW</view_name><fieldids>20,22</fieldids></views><views><viewid>4</viewid><view_name>RES_PRINT_VIEW</view_name><fieldids>20,22</fieldids></views><views><viewid>3</viewid><view_name>RES_VIEW</view_name><fieldids>20,22</fieldids></views><views><viewid>1</viewid><view_name>ORI_VIEW</view_name><fieldids>20,22</fieldids></views></root>","createdMsgCount":0,"draft_count":0,"draftMsgId":0,"view_always_form_association":false,"view_always_doc_association":false,"auto_publish_to_folder":false,"default_folder_path":"","default_folder_id":"","allowExternalAccess":0,"embedFormContentInEmail":0,"canReplyViaEmail":0,"externalUsersOnly":0,"appTypeId":2,"dataCenterId":0,"allowViewAssociation":1,"infojetServerVersion":0,"isFormAvailableOffline":0,"allowDistributionByAll":true,"allowDistributionByRoles":false,"allowDistributionRoleIds":"","canEditWithAppbuilder":true,"hasAppbuilderTemplateDraft":false,"isTemplateChanged":false,"viewsList":[{"viewId":1,"viewName":"ORI_VIEW","formTypeId":"0","appBuilderEnabled":false,"fieldsIds":"20,22","generateURI":true},{"viewId":2,"viewName":"ORI_PRINT_VIEW","formTypeId":"0","appBuilderEnabled":false,"fieldsIds":"20,22","generateURI":true},{"viewId":3,"viewName":"RES_VIEW","formTypeId":"0","appBuilderEnabled":false,"fieldsIds":"20,22","generateURI":true},{"viewId":4,"viewName":"RES_PRINT_VIEW","formTypeId":"0","appBuilderEnabled":false,"fieldsIds":"20,22","generateURI":true}],"isRecent":false,"allowLocationAssociation":true,"isLocationAssocMandatory":true,"bfpc":"0","had":"0","isFromMarketplace":false,"isMarkDefault":false,"isNewlyCreated":false,"isAsycnProcess":false},"actionList":[{"is_default":false,"is_associated":true,"actionName":"Assign Status","actionID":"2","num_days":6,"projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true},{"is_default":false,"is_associated":false,"actionName":"Attach Docs","actionID":"5","projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true},{"is_default":false,"is_associated":true,"actionName":"Distribute","actionID":"6","num_days":7,"projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true},{"is_default":false,"is_associated":true,"actionName":"For Acknowledgement","actionID":"37","num_days":5,"projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true},{"is_default":false,"is_associated":true,"actionName":"For Action","actionID":"36","num_days":5,"projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true},{"is_default":false,"is_associated":true,"actionName":"For Information","actionID":"7","num_days":1,"projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true},{"is_default":false,"is_associated":false,"actionName":"Respond","actionID":"3","projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true},{"is_default":false,"is_associated":true,"actionName":"Review Draft","actionID":"34","num_days":6,"projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true}],"formTypeGroupVO":{"formTypeGroupID":402,"formTypeGroupName":"AppBuilder Forms (HTML)","generateURI":true},"statusList":[{"is_associated":true,"closesOutForm":true,"hasAccess":true,"always_active":false,"userId":0,"isDeactive":false,"defaultPermissionId":0,"statusName":"Closed","statusID":3,"orgId":"0","proxyUserId":0,"isEnableForReviewComment":false,"generateURI":true},{"is_associated":false,"closesOutForm":false,"hasAccess":true,"always_active":false,"userId":0,"isDeactive":false,"defaultPermissionId":0,"statusName":"Closed-Approved","statusID":4,"orgId":"0","proxyUserId":0,"isEnableForReviewComment":false,"generateURI":true},{"is_associated":false,"closesOutForm":false,"hasAccess":true,"always_active":false,"userId":0,"isDeactive":false,"defaultPermissionId":0,"statusName":"Closed-Approved with Comments","statusID":5,"orgId":"0","proxyUserId":0,"isEnableForReviewComment":false,"generateURI":true},{"is_associated":false,"closesOutForm":false,"hasAccess":true,"always_active":false,"userId":0,"isDeactive":false,"defaultPermissionId":0,"statusName":"Closed-Rejected","statusID":6,"orgId":"0","proxyUserId":0,"isEnableForReviewComment":false,"generateURI":true},{"is_associated":true,"closesOutForm":false,"hasAccess":true,"always_active":false,"userId":0,"isDeactive":false,"defaultPermissionId":0,"statusName":"Open","statusID":1001,"orgId":"0","proxyUserId":0,"isEnableForReviewComment":false,"generateURI":true},{"is_associated":true,"closesOutForm":false,"hasAccess":true,"always_active":false,"userId":0,"isDeactive":false,"defaultPermissionId":0,"statusName":"Resolved","statusID":1002,"orgId":"0","proxyUserId":0,"isEnableForReviewComment":false,"generateURI":true},{"is_associated":true,"closesOutForm":false,"hasAccess":true,"always_active":false,"userId":0,"isDeactive":false,"defaultPermissionId":0,"statusName":"Verified","statusID":1003,"orgId":"0","proxyUserId":0,"isEnableForReviewComment":false,"generateURI":true}],"isFormInherited":false,"generateURI":true},"createdFormsCount":0,"draftFormsCount":0,"templatetype":2,"appId":2,"formTypeName":"Discussion","totalForms":0,"formtypeGroupid":402,"isFavourite":false,"appBuilderID":"STD-DIS","canViewDraftMsg":false,"formTypeGroupName":"Correspondence","formGroupCode":"DISC","canCreateForm":true,"numActions":4,"crossWorkspaceID":-1,"instanceGroupId":11018088,"allow_associate_location":true,"numOverdueActions":4,"is_location_assoc_mandatory":true,"workspaceid":2130192}', "AllowLocationAssociation": 1, "CanCreateForms": 1, "AppTypeId": "2"}
      ];
      var selectQuery = "SELECT ProjectId FROM FormGroupAndFormTypeListTbl WHERE ProjectId='2130192'";
      List<String> columnNames = ["ProjectId", "FormTypeId", "FormTypeGroupId", "FormTypeGroupName", "FormTypeGroupCode", "FormTypeName", "AppBuilderId", "InstanceGroupId", "TemplateTypeId", "FormTypeDetailJson", "AllowLocationAssociation", "CanCreateForms", "AppTypeId"];
      List<List<Object?>> rows = [];
      var sqlQuery = "INSERT INTO FormGroupAndFormTypeListTbl (ProjectId,FormTypeId,FormTypeGroupId,FormTypeGroupName,FormTypeGroupCode,FormTypeName,AppBuilderId,InstanceGroupId,TemplateTypeId,FormTypeDetailJson,AllowLocationAssociation,CanCreateForms,AppTypeId) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?)";
      List<List<dynamic>> insertValues = [
        [2130192, 11076066, 402, "Correspondence", "DISC", "Discussion", "STD-DIS", 11018088, 2, '{"createFormsLimit":0,"canAccessPrivilegedForms":true,"formTypeID":"11076066","allow_attachments":true,"formTypesDetail":{"formTypeVO":{"formTypeID":"11076066","formTypeName":"Discussion","code":"DISC","use_controller":false,"response_allowed":true,"show_responses":true,"allow_reopening_form":true,"default_action":"-1","is_default":false,"allow_forwarding":true,"allow_distribution_after_creation":true,"allow_distribution_originator":true,"allow_distribution_recipients":true,"allow_forward_originator":true,"allow_forward_recipients":true,"responders_collaborate":true,"continue_discussion":false,"hide_orgs_and_users":false,"has_hyperlink":false,"allow_attachments":true,"allow_doc_associates":true,"allow_form_associations":true,"allow_attributes":false,"associations_extend_doc_issue":false,"public_message":false,"browsable_attachment_folder":false,"has_overall_status":true,"is_instance":false,"form_type_group_id":402,"instance_group_id":"11018088","ctrl_change_status":false,"parent_formtype_id":"10052172","orig_change_status":true,"orig_can_close":false,"upload_logo":false,"user_ref":false,"allow_comment_associations":false,"is_public":false,"is_active":true,"signatureBox":"000","xsnFile":"2327196.zip","xmlData":"<my:myFields xmlns:my=\"http://schemas.microsoft.com/office/infopath/2003/myXSD/2015-08-11T07:43:54\"><my:ORI_ORIGINATOR/><my:RES_FINALSUMMARY/><my:ORI_DETAILS/><my:ORI_FORMTITLE/><my:RES_RESPONSE/><my:Asite_System_Data_Read_Write><my:ORI_MSG_Fields><my:SP_RES_PRINT_VIEW>DS_WORKINGUSER</my:SP_RES_PRINT_VIEW><my:SP_RES_VIEW>DS_WORKINGUSER</my:SP_RES_VIEW><my:SP_ORI_PRINT_VIEW>DS_WORKINGUSER</my:SP_ORI_PRINT_VIEW><my:SP_ORI_VIEW>DS_WORKINGUSER</my:SP_ORI_VIEW></my:ORI_MSG_Fields></my:Asite_System_Data_Read_Write><my:ORI_CREATEDATE/></my:myFields>","templateType":2,"responsePattern":0,"fixedFieldIds":"20,22,","displayFileName":"Discussion.zip","viewIds":"3,1,2,4,","mandatoryDistribution":0,"responseFromAll":false,"subTemplateType":0,"integrateExchange":false,"allowEditingORI":false,"allowImportExcelInEditORI":false,"isOverwriteExcelInEditORI":true,"enableECatalague":false,"formGroupName":"Correspondence","projectId":"2130192","clonedFormTypeId":0,"appBuilderFormIDCode":"STD-DIS","loginUserId":2017529,"xslFileName":"","allowImportForm":false,"allowWorkspaceLink":false,"linkedWorkspaceProjectId":"-1","createFormsLimit":0,"spellCheckPrefs":"11","isMobile":false,"createFormsLimitLevel":0,"restrictChangeFormStatus":0,"enableDraftResponses":0,"isDistributionFromGroupOnly":false,"isAutoCreateOnStatusChange":false,"docAssociationType":1,"viewFieldIdsData":"<root><views><viewid>2</viewid><view_name>ORI_PRINT_VIEW</view_name><fieldids>20,22</fieldids></views><views><viewid>4</viewid><view_name>RES_PRINT_VIEW</view_name><fieldids>20,22</fieldids></views><views><viewid>3</viewid><view_name>RES_VIEW</view_name><fieldids>20,22</fieldids></views><views><viewid>1</viewid><view_name>ORI_VIEW</view_name><fieldids>20,22</fieldids></views></root>","createdMsgCount":0,"draft_count":0,"draftMsgId":0,"view_always_form_association":false,"view_always_doc_association":false,"auto_publish_to_folder":false,"default_folder_path":"","default_folder_id":"","allowExternalAccess":0,"embedFormContentInEmail":0,"canReplyViaEmail":0,"externalUsersOnly":0,"appTypeId":2,"dataCenterId":0,"allowViewAssociation":1,"infojetServerVersion":0,"isFormAvailableOffline":0,"allowDistributionByAll":true,"allowDistributionByRoles":false,"allowDistributionRoleIds":"","canEditWithAppbuilder":true,"hasAppbuilderTemplateDraft":false,"isTemplateChanged":false,"viewsList":[{"viewId":1,"viewName":"ORI_VIEW","formTypeId":"0","appBuilderEnabled":false,"fieldsIds":"20,22","generateURI":true},{"viewId":2,"viewName":"ORI_PRINT_VIEW","formTypeId":"0","appBuilderEnabled":false,"fieldsIds":"20,22","generateURI":true},{"viewId":3,"viewName":"RES_VIEW","formTypeId":"0","appBuilderEnabled":false,"fieldsIds":"20,22","generateURI":true},{"viewId":4,"viewName":"RES_PRINT_VIEW","formTypeId":"0","appBuilderEnabled":false,"fieldsIds":"20,22","generateURI":true}],"isRecent":false,"allowLocationAssociation":true,"isLocationAssocMandatory":true,"bfpc":"0","had":"0","isFromMarketplace":false,"isMarkDefault":false,"isNewlyCreated":false,"isAsycnProcess":false},"actionList":[{"is_default":false,"is_associated":true,"actionName":"Assign Status","actionID":"2","num_days":6,"projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true},{"is_default":false,"is_associated":false,"actionName":"Attach Docs","actionID":"5","projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true},{"is_default":false,"is_associated":true,"actionName":"Distribute","actionID":"6","num_days":7,"projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true},{"is_default":false,"is_associated":true,"actionName":"For Acknowledgement","actionID":"37","num_days":5,"projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true},{"is_default":false,"is_associated":true,"actionName":"For Action","actionID":"36","num_days":5,"projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true},{"is_default":false,"is_associated":true,"actionName":"For Information","actionID":"7","num_days":1,"projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true},{"is_default":false,"is_associated":false,"actionName":"Respond","actionID":"3","projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true},{"is_default":false,"is_associated":true,"actionName":"Review Draft","actionID":"34","num_days":6,"projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true}],"formTypeGroupVO":{"formTypeGroupID":402,"formTypeGroupName":"AppBuilder Forms (HTML)","generateURI":true},"statusList":[{"is_associated":true,"closesOutForm":true,"hasAccess":true,"always_active":false,"userId":0,"isDeactive":false,"defaultPermissionId":0,"statusName":"Closed","statusID":3,"orgId":"0","proxyUserId":0,"isEnableForReviewComment":false,"generateURI":true},{"is_associated":false,"closesOutForm":false,"hasAccess":true,"always_active":false,"userId":0,"isDeactive":false,"defaultPermissionId":0,"statusName":"Closed-Approved","statusID":4,"orgId":"0","proxyUserId":0,"isEnableForReviewComment":false,"generateURI":true},{"is_associated":false,"closesOutForm":false,"hasAccess":true,"always_active":false,"userId":0,"isDeactive":false,"defaultPermissionId":0,"statusName":"Closed-Approved with Comments","statusID":5,"orgId":"0","proxyUserId":0,"isEnableForReviewComment":false,"generateURI":true},{"is_associated":false,"closesOutForm":false,"hasAccess":true,"always_active":false,"userId":0,"isDeactive":false,"defaultPermissionId":0,"statusName":"Closed-Rejected","statusID":6,"orgId":"0","proxyUserId":0,"isEnableForReviewComment":false,"generateURI":true},{"is_associated":true,"closesOutForm":false,"hasAccess":true,"always_active":false,"userId":0,"isDeactive":false,"defaultPermissionId":0,"statusName":"Open","statusID":1001,"orgId":"0","proxyUserId":0,"isEnableForReviewComment":false,"generateURI":true},{"is_associated":true,"closesOutForm":false,"hasAccess":true,"always_active":false,"userId":0,"isDeactive":false,"defaultPermissionId":0,"statusName":"Resolved","statusID":1002,"orgId":"0","proxyUserId":0,"isEnableForReviewComment":false,"generateURI":true},{"is_associated":true,"closesOutForm":false,"hasAccess":true,"always_active":false,"userId":0,"isDeactive":false,"defaultPermissionId":0,"statusName":"Verified","statusID":1003,"orgId":"0","proxyUserId":0,"isEnableForReviewComment":false,"generateURI":true}],"isFormInherited":false,"generateURI":true},"createdFormsCount":0,"draftFormsCount":0,"templatetype":2,"appId":2,"formTypeName":"Discussion","totalForms":0,"formtypeGroupid":402,"isFavourite":false,"appBuilderID":"STD-DIS","canViewDraftMsg":false,"formTypeGroupName":"Correspondence","formGroupCode":"DISC","canCreateForm":true,"numActions":16,"crossWorkspaceID":-1,"instanceGroupId":11018088,"allow_associate_location":true,"numOverdueActions":15,"is_location_assoc_mandatory":true,"workspaceid":2130192}',1,1,"2"
      ], [2130192, 10973573, 379, "Defects", "DEF", "Defect", "SNG-DEF", 10941887, 1, '{"createFormsLimit":0,"canAccessPrivilegedForms":false,"formTypeID":"10973573","allow_attachments":true,"formTypesDetail":{"formTypeVO":{"formTypeID":"10973573","formTypeName":"Defect","code":"DEF","use_controller":false,"response_allowed":true,"show_responses":true,"allow_reopening_form":true,"default_action":"7","is_default":true,"allow_forwarding":false,"allow_distribution_after_creation":false,"allow_distribution_originator":false,"allow_distribution_recipients":false,"allow_forward_originator":false,"allow_forward_recipients":false,"responders_collaborate":true,"continue_discussion":true,"hide_orgs_and_users":false,"has_hyperlink":false,"allow_attachments":true,"allow_doc_associates":true,"allow_form_associations":true,"allow_attributes":false,"associations_extend_doc_issue":false,"public_message":false,"browsable_attachment_folder":false,"has_overall_status":false,"is_instance":true,"form_typ'
            'e_group_id":379,"instance_group_id":"10941887","ctrl_change_status":false,"parent_formtype_id":"2271684","orig_change_status":false,"orig_can_close":false,"upload_logo":false,"user_ref":false,"allow_comment_associations":false,"is_public":false,"is_active":true,"signatureBox":"000","xsnFile":"2283389.xsn","xmlData":"<?mso-infoPathSolution name="urn:schemas-microsoft-com:office:infopath:DefectManager:-myXSD-2015-01-27T06-22-02" href="DefectManager_tImEsTaMp3980509418471061_15916" solutionVersion="1.0.0.699" productVersion="15.0.0" PIVersion="1.0.0.0" ?><?mso-application progid="InfoPath.Document" versionProgid="InfoPath.Document.4"?><my:myFields xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xhtml=\"http://www.w3.org/1999/xhtml\" xmlns:dfs=\"http://schemas.microsoft.com/office/infopath/2003/dataFormSolution\" xmlns:impl=\"http://soap.service.api.asite.com\" xmlns:my=\"http://schemas.microsoft.com/office/infopath/2003/myXSD/2015-01-27T06:22:02\" xmlns:xd='
            '\"http://schemas.microsoft.com/office/infopath/2003\"><my:FORM_CUSTOM_FIELDS><my:ORI_MSG_Custom_Fields><my:ORI_FORMTITLE/><my:ORI_USERREF/><my:Todays_Date/><my:DefectTyoe/><my:DefectDescription/><my:Location/><my:StartDate>2017-02-03</my:StartDate><my:ExpectedFinishDate>2017-02-04</my:ExpectedFinishDate><my:OriginatorId/><my:ActualFinishDate xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:nil=\"true\"/><my:AssignedToUsersGroup><my:AssignedToUsers><my:AssignedToUser/></my:AssignedToUsers></my:AssignedToUsersGroup><my:CurrStage xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:nil=\"true\"/><my:PF_Location_Detail/><my:Defect_Description/><my:Username/><my:Organization/></my:ORI_MSG_Custom_Fields><my:RES_MSG_Custom_Fields><my:Comments/><my:ShowHideFlag>Yes</my:ShowHideFlag><my:SHResponse>Yes</my:SHResponse></my:RES_MSG_Custom_Fields><my:CREATE_FWD_RES><my:Can_Reply/></my:CREATE_FWD_RES><my:DS_AUTONUMBER><my:DS_FORMAUTONO_CREATE/><my:DS_SEQ_LENGTH/><my:DS_FORMAUTONO_ADD/></my:DS_AUTONUMBER><my:DS_DATASOURCE><my:DS_getAllLocationByProject_PF my:DS_getAllLocationByProject_PF_PARAM=\"1\"/><my:DS_Response_PARAM>#Comments#DS_ALL_FORMSTATUS</my:DS_Response_PARAM><my:DS_Get_All_Responses my:DS_Get_All_Responses_PARAM=\"DS_Response_PARAM\"/><my:DS_getDefectTypesForProjects_pf/></my:DS_DATASOURCE></my:FORM_CUSTOM_FIELDS><my:Asite_System_Data_Read_Only><my:_1_User_Data><my:DS_WORKINGUSER/><my:DS_WORKINGUSERROLE/><my:DS_WORKINGUSER_ID/><my:DS_WORKINGUSER_ALL_ROLES/></my:_1_User_Data><my:_2_Printing_Data><my:DS_PRINTEDBY/><my:DS_PRINTEDON/></my:_2_Printing_Data><my:_3_Project_Data><my:DS_PROJECTNAME/><my:DS_CLIENT/></my:_3_Project_Data><my:_4_Form_Type_Data><my:DS_FORMNAME/><my:DS_FORMGROUPCODE/><my:DS_FORMAUTONO/></my:_4_Form_Type_Data><my:_5_Form_Data><my:DS_FORMID/><my:DS_ORIGINATOR/><my:DS_DATEOFISSUE/><my:DS_DISTRIBUTION/><my:DS_CONTROLLERNAME/><my:DS_ATTRIBUTES/><my:DS_MAXFORMNO/><my:DS_MAXORGFORMNO/><my:DS_ISDRAFT/><my:DS_ISDRAFT_RES/><my:DS_FORMAUTONO_PREFIX/><my:DS_FORMCONTENT/><my:DS_FORMCONTENT1/><my:DS_FORMCONTENT2/><my:DS_FORMCONTENT3/><my:DS_ISDRAFT_RES_MSG/><my:DS_ISDRAFT_FWD_MSG/><my:Status_Data><my:DS_FORMSTATUS/><my:DS_CLOSEDUEDATE/><my:DS_APPROVEDBY/><my:DS_APPROVEDON/><my:DS_CLOSE_DUE_DATE xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:nil=\"true\"/><my:DS_ALL_FORMSTATUS/><my:DS_ALL_ACTIVE_FORM_STATUS/></my:Status_Data></my:_5_Form_Data><my:_6_Form_MSG_Data><my:DS_MSGID/><my:DS_MSGCREATOR/><my:DS_MSGDATE/><my:DS_MSGSTATUS/><my:DS_MSGRELEASEDATE/><my:ORI_MSG_Data><my:DS_DOC_ASSOCIATIONS_ORI/><my:DS_FORM_ASSOCIATIONS_ORI/><my:DS_ATTACHMENTS_ORI/></my:ORI_MSG_Data></my:_6_Form_MSG_Data></my:Asite_System_Data_Read_Only><my:Asite_System_Data_Read_Write><my:ORI_MSG_Fields><my:SP_ORI_VIEW>DS_PRINTEDBY,DS_FORMID,DS_ISDRAFT,DS_CLOSE_DUE_DATE,DS_PRINTEDON,ORI_FORMTITLE,ORI_USERREF,DS_ALL_FORMSTATUS,DS_FORMNAME,DS_getAllLocationByProject_PF,DS_ALL_ACTIVE_FORM_STATUS,DS_WORKINGUSER_ID,DS_AUTODISTRIBUTE,DS_FORMSTATUS,DS_PROJDISTUSERS,DS_FORMACTIONS,DS_ACTIONDUEDATE,DS_INCOMPLETE_ACTIONS,DS_PROJUSERS_ALL_ROLES,DS_getDefectTypesForProjects_pf</my:SP_ORI_VIEW><my:SP_ORI_PRINT_VIEW>DS_PRINTEDBY,DS_FORMID,DS_ISDRAFT,DS_CLOSE_DUE_DATE,DS_PRINTEDON,ORI_FORMTITLE,ORI_USERREF,DS_ALL_FORMSTATUS,DS_FORMNAME,DS_getAllLocationByProject_PF,DS_ALL_ACTIVE_FORM_STATUS,DS_WORKINGUSER_ID,DS_AUTODISTRIBUTE,DS_FORMSTATUS,DS_PROJDISTUSERS,DS_FORMACTIONS,DS_ACTIONDUEDATE,DS_INCOMPLETE_ACTIONS,DS_PROJUSERS_ALL_ROLES,DS_Response_PARAM,DS_Get_All_Responses</my:SP_ORI_PRINT_VIEW><my:SP_FORM_PRINT_VIEW>DS_PRINTEDBY,DS_FORMID,DS_ISDRAFT,DS_CLOSE_DUE_DATE,DS_PRINTEDON,ORI_FORMTITLE,ORI_USERREF,DS_ALL_FORMSTATUS,DS_FORMNAME,DS_getAllLocationByProject_PF,DS_ALL_ACTIVE_FORM_STATUS,DS_WORKINGUSER_ID,DS_AUTODISTRIBUTE,DS_FORMSTATUS,DS_PROJDISTUSERS,DS_FORMACTIONS,DS_ACTIONDUEDATE,DS_INCOMPLETE_ACTIONS,DS_PROJUSERS_ALL_ROLES,DS_Response_PARAM,DS_Get_All_Responses</my:SP_FORM_PRINT_VIEW><my:SP_RES_VIEW>DS_PRINTEDBY,DS_FORMID,DS_ISDRAFT,DS_CLOSE_DUE_DATE,DS_PRINTEDON,ORI_FORMTITLE,ORI_USERREF,DS_ALL_FORMSTATUS,DS_FORMNAME,DS_getAllLocationByProject_PF,DS_ALL_ACTIVE_FORM_STATUS,DS_WORKINGUSER_ID,DS_AUTODISTRIBUTE,DS_FORMSTATUS,DS_PROJDISTUSERS,DS_FORMACTIONS,DS_ACTIONDUEDATE,DS_INCOMPLETE_ACTIONS,DS_PROJUSERS_ALL_ROLES</my:SP_RES_VIEW><my:SP_RES_PRINT_VIEW>DS_PRINTEDBY,DS_FORMID,DS_ISDRAFT,DS_CLOSE_DUE_DATE,DS_PRINTEDON,ORI_FORMTITLE,ORI_USERREF,DS_ALL_FORMSTATUS,DS_FORMNAME,DS_getAllLocationByProject_PF,DS_ALL_ACTIVE_FORM_STATUS,DS_WORKINGUSER_ID,DS_AUTODISTRIBUTE,DS_FORMSTATUS,DS_PROJDISTUSERS,DS_FORMACTIONS,DS_ACTIONDUEDATE,DS_INCOMPLETE_ACTIONS,DS_PROJUSERS_ALL_ROLES</my:SP_RES_PRINT_VIEW></my:ORI_MSG_Fields><my:DS_PROJORGANISATIONS/><my:DS_PROJUSERS/><my:DS_PROJDISTGROUPS/><my:DS_AUTODISTRIBUTE xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:nil=\"true\"/><my:DS_INCOMPLETE_ACTIONS/><my:DS_PROJORGANISATIONS_ID/><my:DS_PROJUSERS_ALL_ROLES/><my:Auto_Distribute_Group><my:Auto_Distribute_Users><my:DS_PROJDISTUSERS/><my:DS_FORMACTIONS/><my:DS_ACTIONDUEDATE xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:nil=\"true\">2017-02-04</my:DS_ACTIONDUEDATE></my:Auto_Distribute_Users></my:Auto_Distribute_Group></my:Asite_System_Data_Read_Write><my:group1/><my:group2/><my:group3/><my:group4/><my:group5/><my:group6/></my:myFields>","templateType":1,"responsePattern":0,"fixedFieldIds":"2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,32,33,34,35,36,43,51,159,308,528,562,563,628,639,657,671,798,1663,1664,3638,3732,3871,","displayFileName":"DefectManager.xsn","viewIds":"3,1,2,5,4,","mandatoryDistribution":2,"responseFromAll":false,"subTemplateType":0,"integrateExchange":false,"allowEditingORI":false,"allowImportExcelInEditORI":false,"isOverwriteExcelInEditORI":true,"enableECatalague":false,"formGroupName":"Defects","projectId":"2130192","clonedFormTypeId":0,"appBuilderFormIDCode":"SNG-DEF","loginUserId":2017529,"xslFileName":"","allowImportForm":false,"allowWorkspaceLink":false,"linkedWorkspaceProjectId":"-1","createFormsLimit":0,"spellCheckPrefs":"00","isMobile":false,"createFormsLimitLevel":0,"restrictChangeFormStatus":0,"enableDraftResponses":0,"isDistributionFromGroupOnly":false,"isAutoCreateOnStatusChange":false,"docAssociationType":1,"viewFieldIdsData":"<root><views><viewid>2</viewid><view_name>ORI_PRINT_VIEW</view_name><fieldids>2,7,308,3,20,21,563,25,3638,639,628,8,43,36,671,528,3732</fieldids></views><views><viewid>4</viewid><view_name>RES_PRINT_VIEW</view_name><fieldids>2,7,308,3,20,21,563,25,3638,639,628,8,43,36,671,528</fieldids></views><views><viewid>5</viewid><view_name>FORM_PRINT_VIEW</view_name><fieldids>2,7,308,3,20,21,563,25,3638,639,628,8,43,36,671,528,3732</fieldids></views><views><viewid>3</viewid><view_name>RES_VIEW</view_name><fieldids>2,7,308,3,20,21,563,25,3638,639,628,8,43,36,671,528</fieldids></views><views><viewid>1</viewid><view_name>ORI_VIEW</view_name><fieldids>2,7,308,3,20,21,563,25,3638,639,628,8,43,36,671,528,3871</fieldids></views></root>","createdMsgCount":0,"draft_count":0,"draftMsgId":0,"view_always_form_association":false,"view_always_doc_association":false,"auto_publish_to_folder":false,"default_folder_path":"","default_folder_id":"","allowExternalAccess":0,"embedFormContentInEmail":0,"canReplyViaEmail":0,"externalUsersOnly":0,"appTypeId":2,"dataCenterId":0,"allowViewAssociation":0,"infojetServerVersion":0,"isFormAvailableOffline":1,"allowDistributionByAll":false,"allowDistributionByRoles":false,"allowDistributionRoleIds":"","canEditWithAppbuilder":false,"hasAppbuilderTemplateDraft":false,"isTemplateChanged":false,"viewsList":[{"viewId":1,"viewName":"ORI_VIEW","formTypeId":"0","appBuilderEnabled":false,"fieldsIds":"2,7,308,3,20,21,563,25,3638,639,628,8,43,36,671,528,3871","generateURI":true},{"viewId":2,"viewName":"ORI_PRINT_VIEW","formTypeId":"0","appBuilderEnabled":false,"fieldsIds":"2,7,308,3,20,21,563,25,3638,639,628,8,43,36,671,528,3732","generateURI":true},{"viewId":3,"viewName":"RES_VIEW","formTypeId":"0","appBuilderEnabled":false,"fieldsIds":"2,7,308,3,20,21,563,25,3638,639,628,8,43,36,671,528","generateURI":true},{"viewId":4,"viewName":"RES_PRINT_VIEW","formTypeId":"0","appBuilderEnabled":false,"fieldsIds":"2,7,308,3,20,21,563,25,3638,639,628,8,43,36,671,528","generateURI":true},{"viewId":5,"viewName":"FORM_PRINT_VIEW","formTypeId":"0","appBuilderEnabled":false,"fieldsIds":"2,7,308,3,20,21,563,25,3638,639,628,8,43,36,671,528,3732","generateURI":true}],"isRecent":false,"allowLocationAssociation":false,"isLocationAssocMandatory":false,"bfpc":"0","had":"0","isFromMarketplace":false,"isMarkDefault":false,"isNewlyCreated":false,"isAsycnProcess":false},"actionList":[{"is_default":false,"is_associated":false,"actionName":"Assign Status","actionID":"2","projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true},{"is_default":false,"is_associated":false,"actionName":"Attach Docs","actionID":"5","projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true},{"is_default":false,"is_associated":false,"actionName":"Distribute","actionID":"6","projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true},{"is_default":false,"is_associated":false,"actionName":"For Acknowledgement","actionID":"37","projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true},{"is_default":false,"is_associated":false,"actionName":"For Action","actionID":"36","projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true},{"is_default":true,"is_associated":true,"actionName":"For Information","actionID":"7","num_days":-1,"projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true},{"is_default":false,"is_associated":true,"actionName":"Respond","actionID":"3","num_days":7,"projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true},{"is_default":false,"is_associated":false,"actionName":"Review Draft","actionID":"34","projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true}],"formTypeGroupVO":{"formTypeGroupID":379,"formTypeGroupName":"Field Manager","generateURI":true},"statusList":[{"is_associated":false,"closesOutForm":false,"hasAccess":true,"always_active":false,"userId":0,"isDeactive":false,"defaultPermissionId":0,"statusName":"Closed","statusID":3,"orgId":"0","proxyUserId":0,"isEnableForReviewComment":false,"generateURI":true},{"is_associated":false,"closesOutForm":false,"hasAccess":true,"always_active":false,"userId":0,"isDeactive":false,"defaultPermissionId":0,"statusName":"Closed-Approved","statusID":4,"orgId":"0","proxyUserId":0,"isEnableForReviewComment":false,"generateURI":true},{"is_associated":false,"closesOutForm":false,"hasAccess":true,"always_active":false,"userId":0,"isDeactive":false,"defaultPermissionId":0,"statusName":"Closed-Approved with Comments","statusID":5,"orgId":"0","proxyUserId":0,"isEnableForReviewComment":false,"generateURI":true},{"is_associated":false,"closesOutForm":false,"hasAccess":true,"always_active":false,"userId":0,"isDeactive":false,"defaultPermissionId":0,"statusName":"Closed-Rejected","statusID":6,"orgId":"0","proxyUserId":0,"isEnableForReviewComment":false,"generateURI":true},{"is_associated":false,"closesOutForm":false,"hasAccess":true,"always_active":false,"userId":0,"isDeactive":false,"defaultPermissionId":0,"statusName":"Open","statusID":1001,"orgId":"0","proxyUserId":0,"isEnableForReviewComment":false,"generateURI":true},{"is_associated":false,"closesOutForm":false,"hasAccess":true,"always_active":false,"userId":0,"isDeactive":false,"defaultPermissionId":0,"statusName":"Resolved","statusID":1002,"orgId":"0","proxyUserId":0,"isEnableForReviewComment":false,"generateURI":true},{"is_associated":false,"closesOutForm":false,"hasAccess":true,"always_active":false,"userId":0,"isDeactive":false,"defaultPermissionId":0,"statusName":"Verified","statusID":1003,"orgId":"0","proxyUserId":0,"isEnableForReviewComment":false,"generateURI":true}],"isFormInherited":false,"generateURI":true},"createdFormsCount":0,"draftFormsCount":0,"templatetype":1,"appId":2,"formTypeName":"Defect","totalForms":0,"formtypeGroupid":379,"isFavourite":false,"appBuilderID":"SNG-DEF","canViewDraftMsg":false,"formTypeGroupName":"Defects","formGroupCode":"DEF","canCreateForm":false,"numActions":1,"crossWorkspaceID":-1,"instanceGroupId":10941887,"allow_associate_location":false,"numOverdueActions":1,"is_location_assoc_mandatory":false,"workspaceid":2130192}',0,0,"2"
        ],
        [2130192, 11070450, 399, "Attachment", "INAT", "Attachment", "Att-Inline", 11062773, 1, '{"createFormsLimit":0,"canAccessPrivilegedForms":true,"formTypeID":"11070450","allow_attachments":true,"formTypesDetail":{"formTypeVO":{"formTypeID":"11070450","formTypeName":"Attachment","code":"INAT","use_controller":false,"response_allowed":true,"show_responses":true,"allow_reopening_form":true,"default_action":"7","is_default":true,"allow_forwarding":false,"allow_distribution_after_creation":false,"allow_distribution_originator":false,"allow_distribution_recipients":false,"allow_forward_originator":false,"allow_forward_recipients":false,"responders_collaborate":true,"continue_discussion":false,"hide_orgs_and_users":false,"has_hyperlink":false,"allow_attachments":true,"allow_doc_associates":true,"allow_form_associations":true,"allow_attributes":true,"associations_extend_doc_issue":false,"public_message":false,"browsable_attachment_folder":false,"has_overall_status":true,"is_instance":'
            'true,"form_type_group_id":399,"instance_group_id":"11062773","ctrl_change_status":false,"parent_formtype_id":"10033011","orig_change_status":true,"orig_can_close":false,"upload_logo":false,"user_ref":false,"allow_comment_associations":false,"is_public":false,"is_active":true,"signatureBox":"000","xsnFile":"2587509.zip","xmlData":"<my:myFields xmlns:my=\"http://schemas.microsoft.com/office/infopath/2003/myXSD/2015-08-11T07:43:54'
            '\"><my:ORI_FORMTITLE_Copy/><my:Attachment_1>ASITE_JSON_ARRAY</my:Attachment_1><my:Attachment_2>ASITE_JSON_ARRAY</my:Attachment_2><my:State/><my:Attachment_3>ASITE_JSON_ARRAY</my:Attachment_3><my:extraParams>null</my:extraParams><my:Attachment>ASITE_JSON_ARRAY</my:Attachment><my:City/><my:ORI_FORMTITLE/><my:Asite_System_Data_Read_Write><my:ORI_MSG_Fields><my:SP_ORI_VIEW_HTML/><my:SP_RES_PRINT_VIEW/><my:CA_ORI_PRINT_VIEW_HTML>State##City</my:CA_ORI_PRINT_VIEW_HTML><my:attributeSetId>118281</my:attributeSetId><my:CA_ORI_VIEW>State##City</my:CA_ORI_VIEW><my:SP_ORI_PRINT_VIEW/><my:SP_ORI_VIEW/><my:SP_RES_VIEW/><my:SP_ORI_PRINT_VIEW_HTML/><my:SP_RES_VIEW_HTML/><my:CA_ORI_VIEW_HTML>State##City</my:CA_ORI_VIEW_HTML><my:SP_RES_PRINT_VIEW_HTML/><my:CA_ORI_PRINT_VIEW>State##City</my:CA_ORI_PRINT_VIEW></my:ORI_MSG_Fields></my:Asite_System_Data_Read_Write></my:myFields>","templateType":2,"responsePattern":0,"fixedFieldIds":"7,20,","displayFileName":"Asite Appbuilder Template.zip","v'
            'iewIds":"3,1,2,4,","mandatoryDistribution":0,"responseFromAll":true,"subTemplateType":0,"integrateExchange":false,"allowEditingORI":false,"allowImportExcelInEditORI":false,"isOverwriteExcelInEditORI":true,"enableECatalague":false,"formGroupName":"Attachment","projectId":"2130192","clonedFormTypeId":0,"appBuilderFormIDCode":"Att-Inline","loginUserId":2017529,"xslFileName":"","allowImportForm":false,"allowWorkspaceLink":false,"linkedWorkspaceProjectId":"-1","createFormsLimit":0,"spellCheckPrefs":"10","isMobile":false,"createFormsLimitLevel":0,"restrictChangeFormStatus":0,"enableDraftResponses":0,"isDistributionFromGroupOnly":true,"isAutoCreateOnStatusChange":false,"docAssociationType":1,"viewFieldIdsData":"<root><views><viewid>2</viewid><view_name>ORI_PRINT_VIEW</view_name><fieldids>20,7</fieldids></views><views><viewid>213100</viewid><view_name>RES_VIEW_HTML</view_name><fieldids>20,'
            '7</fieldids></views><views><viewid>4</viewid><view_name>RES_PRINT_VIEW</view_name><fieldids>20,7</fieldids></views><views><viewid>3</viewid><view_name>RES_VIEW</view_name><fieldids>20,7</fieldids></views><views><viewid>212494</viewid><view_name>RES_VIEW_HTML</view_name><fieldids>20,7</fieldids></views><views><viewid>212495</viewid><view_name>ORI_VIEW_HTML</view_name><fieldids>20,7</fieldids></views><views><viewid>1</viewid><view_name>ORI_VIEW</view_name><fieldids>20,7</fieldids></views><views><viewid>213098</viewid><view_name>RES_VIEW_HTML</view_name><fieldids>20,7</fieldids></views><views><viewid>213099</viewid><view_name>ORI_VIEW_HTML</view_name><fieldids>20,7</fieldids></views><views><viewid>213101</viewid><view_name>ORI_VIEW_HTML</view_name><fieldids>20,7</fieldids></views></root>","createdMsgCount":0,"draft_count":0,"draftMsgId":0,"view_always_form_association":true,"view_always_doc_association":false,"auto_publish_to_folder":true,"default_folder_path":"Site '
            'Quality Demo\\xyz","default_folder_id":"111007269","allowExternalAccess":1,"embedFormContentInEmail":0,"canReplyViaEmail":0,"externalUsersOnly":1,"appTypeId":2,"dataCenterId":0,"allowViewAssociation":0,"infojetServerVersion":0,"isFormAvailableOffline":1,"allowDistributionByAll":false,"allowDistributionByRoles":false,"allowDistributionRoleIds":"","canEditWithAppbuilder":true,"hasAppbuilderTemplateDraft":true,"draftedUserName":"Dhaval Vekaria (5226), Asite Solutions","isTemplateChanged":false,"draftedOn":"08-Jun-2023#01:58 CST","viewsList":[{"viewId":1,"viewName":"ORI_VIEW","formTypeId":"0","appBuilderEnabled":false,"fieldsIds":"20,7","generateURI":true},{"viewId":2,"viewName":"ORI_PRINT_VIEW","formTypeId":"0","appBuilderEnabled":false,"fieldsIds":"20,7","generateURI":true},{"viewId":3,"viewName":"RES_VIEW","formTypeId":"0","appBuilderEnabled":false,"fieldsIds":"20,7","generateURI":true},{"viewId":4,"viewName":"RES_PRINT_VIEW","formTypeId":"0","appBuilderEnabled":false,"f'
            'ieldsIds":"20,7","generateURI":true},{"viewId":212494,"viewName":"RES_VIEW_HTML","formTypeId":"0","appBuilderEnabled":false,"fieldsIds":"20,7","generateURI":true},{"viewId":212495,"viewName":"ORI_VIEW_HTML","formTypeId":"0","appBuilderEnabled":false,"fieldsIds":"20,7","generateURI":true},{"viewId":213098,"viewName":"RES_VIEW_HTML","formTypeId":"0","appBuilderEnabled":false,"fieldsIds":"20,7","generateURI":true},{"viewId":213099,"viewName":"ORI_VIEW_HTML","formTypeId":"0","appBuilderEnabled":false,"fieldsIds":"20,7","generateURI":true},{"viewId":213100,"viewName":"RES_VIEW_HTML","formTypeId":"0","appBuilderEnabled":false,"fieldsIds":"20,7","generateURI":true},{"viewId":213101,"viewName":"ORI_VIEW_HTML","formTypeId":"0","appBuilderEnabled":false,"fieldsIds":"20,7","generateURI":true}],"isRecent":false,"allowLocationAssociation":true,"isLocationAssocMandatory":false,"templateJsonData":"{\"fieldMap\":[],\"fxValueMap\":{\"ORI_FORMTITLE\":[\"ORI_FORMTITLE_Copy\"]},\"theme'
            '\":1,\"ORI_FORMTITLE\":{\"name\":\"ORI_FORMTITLE\",\"id\":\"ORI_FORMTITLE\",\"label\":{\"Default\":\"Title\"},\"DSName\":\"\",\"searchable\":true,\"reportable\":true,\"customizable-column\":true,\"type\":\"Textbox\",\"uid\":\"1adc4a5a-ab26-4fde-9529-049d14149d70\",\"autoGenerated\":false,\"hidden\":false,\"events\":{},\"style\":{\"group\":{\"font-family\":\"Helvetica\",\"font-size\":\"16px\",\"background-color\":\"#ffffff\",\"font-weight\":\"normal\",\"font-style\":\"normal\",\"text-decoration\":\"none\",\"text-align-last\":\"left\",\"text-align\":\"left\",\"color\":\"#000000\",\"padding\":\"5px 5px 5px 5px\"},\"thymeleafControlStyle\":\" white-space: pre-wrap;\",\"thymeleafGroup\":\"font-family: Helvetica; font-size: 16px; background-color: #ffffff !important; background-color: #ffffff; font-weight: normal; font-style: normal; text-decoration: none; text-align-last: left; text-align: left; color: #000000 !important; color: #000000; padding: 5px 5px 5px 5px;\"},\"viewName\":\"ORI_VIEW\",\"required\":true,\"readOnly\":false,\"placeHolder\":\"\",\"charLimit\":100,\"tooltip\":\"\",\"validate\":\"\",\"digitSeparatorEnabled\":false,\"decimalPlaces\":\"0\",\"decimalThousandSeparators\":{\"Default\":{\"displayCountry\":\"Default\",\"displayLanguage\":\"Default\",\"languageId\":\"Default\",\"decimal\":\".\",\"thousand\":\",\"}},\"wrapText\":false,\"dataFieldName\":\"ORI_FORMTITLE\",\"value\":\"\"},\"Attachment\":{\"name\":\"Attachment\",\"id\":\"Attachment\",\"label\":{\"Default\":\"Attachment\"},\"DSName\":\"\",\"searchable\":false,\"reportable\":false,\"customizable-column\":false,\"type\":\"Attachment\",\"uid\":\"b851ec19-7bee-4d92-b37a-06be2886578a\",\"autoGenerated\":false,\"hidden\":false,\"events\":{},\"style\":{\"group\":{\"font-family\":\"Helvetica\",\"font-size\":\"14px\",\"background-color\":\"#ffffff\",\"font-weight\":\"normal\",\"font-style\":\"normal\",\"text-decoration\":\"none\",\"text-align-last\":\"left\",\"text-align\":\"left\",\"color\":\"#000000\",\"padding\":\"5px 5px 5px 5px\"},\"thymeleafControlStyle\":\" white-space: pre-wrap;\",\"thymeleafGroup\":\"font-family: Helvetica; font-size: 14px; background-color: #ffffff !important; background-color: #ffffff; font-weight: normal; font-style: normal; text-decoration: none; text-align-last: left; text-align: left; color: #000000 !important; color: #000000; padding: 5px 5px 5px 5px;\"},\"viewName\":\"ORI_VIEW\",\"value\":[],\"required\":false,\"readOnly\":false,\"generateThumbnail\":false},\"Attachment_1\":{\"name\":\"Attachment_1\",\"id\":\"Attachment_1\",\"label\":{\"Default\":\"Attachment_1\"},\"DSName\":\"\",\"searchable\":false,\"reportable\":false,\"customizable-column\":false,\"type\":\"Attachment\",\"uid\":\"e0e3ce8b-2acc-406f-b5b1-4751078108b3\",\"autoGenerated\":false,\"hidden\":false,\"events\":{},\"style\":{\"group\":{\"font-family\":\"Helvetica\",\"font-size\":\"14px\",\"background-color\":\"#ffffff\",\"font-weight\":\"normal\",\"font-style\":\"normal\",\"text-decoration\":\"none\",\"text-align-last\":\"left\",\"text-align\":\"left\",\"color\":\"#000000\",\"padding\":\"5px 5px 5px 5px\"},\"thymeleafControlStyle\":\" white-space: pre-wrap;\",\"thymeleafGroup\":\"font-family: Helvetica; font-size: 14px; background-color: #ffffff !important; background-color: #ffffff; font-weight: normal; font-style: normal; text-decoration: none; text-align-last: left; text-align: left; color: #000000 !important; color: #000000; padding: 5px 5px 5px 5px;\"},\"viewName\":\"ORI_VIEW\",\"value\":[],\"required\":false,\"readOnly\":false,\"generateThumbnail\":false},\"Attachment_2\":{\"name\":\"Attachment_2\",\"id\":\"Attachment_2\",\"label\":{\"Default\":\"Attachment with caption\"},\"DSName\":\"\",\"searchable\":false,\"reportable\":false,\"customizable-column\":false,\"type\":\"Attachment\",\"uid\":\"c41b5c9a-b7f6-4f7f-9f8c-e8ea7b385fd2\",\"autoGenerated\":false,\"hidden\":false,\"events\":{},\"style\":{\"group\":{\"font-family\":\"Helvetica\",\"font-size\":\"14px\",\"background-color\":\"#ffffff\",\"font-weight\":\"normal\",\"font-style\":\"normal\",\"text-decoration\":\"none\",\"text-align-last\":\"left\",\"text-align\":\"left\",\"color\":\"#000000\",\"padding\":\"5px 5px 5px 5px\"},\"thymeleafControlStyle\":\" white-space: pre-wrap;\",\"thymeleafGroup\":\"font-family: Helvetica; font-size: 14px; background-color: #ffffff !important; background-color: #ffffff; font-weight: normal; font-style: normal; text-decoration: none; text-align-last: left; text-align: left; color: #000000 !important; color: #000000; padding: 5px 5px 5px 5px;\"},\"viewName\":\"ORI_VIEW\",\"value\":[],\"required\":false,\"readOnly\":false,\"generateThumbnail\":true,\"isCaption\":true,\"captionPosition\":\"top\"},\"Attachment_3\":{\"name\":\"Attachment_3\",\"id\":\"Attachment_3\",\"label\":{\"Default\":\"Attachment with caption\"},\"DSName\":\"\",\"searchable\":false,\"reportable\":false,\"customizable-column\":false,\"type\":\"Attachment\",\"uid\":\"d70f62d8-c62e-44a9-9f64-dabd7f085356\",\"autoGenerated\":false,\"hidden\":false,\"events\":{},\"style\":{\"group\":{\"font-family\":\"Helvetica\",\"font-size\":\"14px\",\"background-color\":\"#ffffff\",\"font-weight\":\"normal\",\"font-style\":\"normal\",\"text-decoration\":\"none\",\"text-align-last\":\"left\",\"text-align\":\"left\",\"color\":\"#000000\",\"padding\":\"5px 5px 5px 5px\"},\"thymeleafControlStyle\":\" white-space: pre-wrap;\",\"thymeleafGroup\":\"font-family: Helvetica; font-size: 14px; background-color: #ffffff !important; background-color: #ffffff; font-weight: normal; font-style: normal; text-decoration: none; text-align-last: left; text-align: left; color: #000000 !important; color: #000000; padding: 5px 5px 5px 5px;\"},\"viewName\":\"ORI_VIEW\",\"value\":[],\"required\":false,\"readOnly\":false,\"generateThumbnail\":true,\"isCaption\":true,\"captionPosition\":\"top\"},\"State\":{\"name\":\"State\",\"id\":\"State\",\"label\":{\"Default\":\"State\"},\"DSName\":\"\",\"searchable\":true,\"reportable\":true,\"customizable-column\":true,\"type\":\"Dropdown\",\"uid\":\"48a7d08f-d628-463e-9e18-4a267687c4e1\",\"autoGenerated\":false,\"hidden\":false,\"events\":{},\"style\":{\"labelStyle\":{\"font-family\":\"Helvetica\",\"font-size\":\"14px\",\"font-weight\":\"normal\",\"font-style\":\"normal\",\"text-decoration\":\"none\",\"text-align-last\":\"left\",\"text-align\":\"left\",\"color\":\"#000000\"},\"controlStyle\":{\"font-family\":\"Helvetica\",\"font-size\":\"14px\",\"font-weight\":\"normal\",\"font-style\":\"normal\",\"text-decoration\":\"none\",\"text-align-last\":\"left\",\"text-align\":\"left\",\"color\":\"#000000\"},\"group\":{\"background-color\":\"#ffffff\",\"padding\":\"5px 5px 5px 5px\"},\"thymeleafLabelStyle\":\"font-family: Helvetica; font-size: 14px; font-weight: normal; font-style: normal; text-decoration: none; text-align-last: left; text-align: left; color: #000000 !important; color: #000000;\",\"thymeleafControlStyle\":\"font-family: Helvetica; font-size: 14px; font-weight: normal; font-style: normal; text-decoration: none; text-align-last: left; text-align: left; color: #000000 !important; color: #000000; white-space: pre-wrap;\",\"thymeleafGroup\":\"background-color: #ffffff !important; background-color: #ffffff; padding: 5px 5px 5px 5px;\"},\"viewName\":\"ORI_VIEW\",\"sourceType\":\"5\",\"multiSelect\":true,\"required\":false,\"readOnly\":false,\"tooltip\":\"\",\"CA\":\"State\",\"displayType\":\"2\",\"hierarchyApplied\":true,\"hierarchyData\":[{\"attributeSetData\":\"118281\",\"childDropdown\":\"{\\\"controlFieldName\\\":\\\"City\\\",\\\"attributeName\\\":\\\"City\\\"}\",\"parentAttributeName\":\"State\"}],\"options\":[],\"value\":\"\"},\"City\":{\"name\":\"City\",\"id\":\"City\",\"label\":{\"Default\":\"City\"},\"DSName\":\"\",\"searchable\":true,\"reportable\":true,\"customizable-column\":true,\"type\":\"Dropdown\",\"uid\":\"2afc9cb4-5681-4f18-8ade-8fd56f737c4b\",\"autoGenerated\":false,\"hidden\":false,\"events\":{},\"style\":{\"labelStyle\":{\"font-family\":\"Helvetica\",\"font-size\":\"14px\",\"font-weight\":\"normal\",\"font-style\":\"normal\",\"text-decoration\":\"none\",\"text-align-last\":\"left\",\"text-align\":\"left\",\"color\":\"#000000\"},\"controlStyle\":{\"font-family\":\"Helvetica\",\"font-size\":\"14px\",\"font-weight\":\"normal\",\"font-style\":\"normal\",\"text-decoration\":\"none\",\"text-align-last\":\"left\",\"text-align\":\"left\",\"color\":\"#000000\"},\"group\":{\"background-color\":\"#ffffff\",\"padding\":\"5px 5px 5px 5px\"},\"thymeleafLabelStyle\":\"font-family: Helvetica; font-size: 14px; font-weight: normal; font-style: normal; text-decoration: none; text-align-last: left; text-align: left; color: #000000 !important; color: #000000;\",\"thymeleafControlStyle\":\"font-family: Helvetica; font-size: 14px; font-weight: normal; font-style: normal; text-decoration: none; text-align-last: left; text-align: left; color: #000000 !important; color: #000000; white-space: pre-wrap;\",\"thymeleafGroup\":\"background-color: #ffffff !important; background-color: #ffffff; padding: 5px 5px 5px 5px;\"},\"viewName\":\"ORI_VIEW\",\"sourceType\":\"5\",\"multiSelect\":false,\"required\":false,\"readOnly\":false,\"tooltip\":\"\",\"CA\":\"City\",\"displayType\":\"2\",\"hierarchyApplied\":false,\"options\":[],\"value\":\"\"},\"ORI_FORMTITLE_Copy\":{\"name\":\"ORI_FORMTITLE_Copy\",\"id\":\"ORI_FORMTITLE_Copy\",\"label\":{\"Default\":\"Title\"},\"DSName\":\"ORI_FORMTITLE\",\"searchable\":true,\"reportable\":true,\"customizable-column\":true,\"type\":\"Display field\",\"uid\":\"61616bf1-d677-4dfe-af0c-8af6275853a5\",\"autoGenerated\":true,\"hidden\":false,\"events\":{},\"style\":{\"labelStyle\":{\"font-family\":\"Helvetica\",\"font-size\":\"16px\",\"font-weight\":\"normal\",\"font-style\":\"normal\",\"text-decoration\":\"none\",\"text-align-last\":\"left\",\"text-align\":\"left\",\"color\":\"#000000\",\"pointer-events\":\"none\"},\"controlStyle\":{\"font-family\":\"Helvetica\",\"font-size\":\"14px\",\"font-weight\":\"normal\",\"font-style\":\"normal\",\"text-decoration\":\"none\",\"text-align-last\":\"left\",\"text-align\":\"left\",\"color\":\"#000000\",\"pointer-events\":\"none\"},\"group\":{\"background-color\":\"#ffffff\",\"padding\":\"5px 5px 5px 5px\"},\"thymeleafLabelStyle\":\"font-family: Helvetica; font-size: 16px; font-weight: normal; font-style: normal; text-decoration: none; text-align-last: left; text-align: left; color: #000000 !important; color: #000000; pointer-events: none;\",\"thymeleafControlStyle\":\"font-family: Helvetica; font-size: 14px; font-weight: normal; font-style: normal; text-decoration: none; text-align-last: left; text-align: left; color: #000000 !important; color: #000000; pointer-events: none; white-space: pre-wrap;\",\"thymeleafGroup\":\"background-color: #ffffff !important; background-color: #ffffff; padding: 5px 5px 5px 5px;\"},\"viewName\":\"RES_VIEW\",\"value\":\"\",\"isCalculation\":\"ORI_FORMTITLE\",\"calculatedValue\":\"\",\"conditions\":\"\"}}","bfpc":"0","had":"0","isFromMarketplace":false,"isMarkDefault":false,"isNewlyCreated":false,"isAsycnProcess":false},"actionList":[{"is_default":false,"is_associated":false,"actionName":"Assign Status","actionID":"2","projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true},{"is_default":false,"is_associated":false,"actionName":"Attach Docs","actionID":"5","projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true},{"is_default":false,"is_associated":false,"actionName":"Distribute","actionID":"6","projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true},{"is_default":false,"is_associated":true,"actionName":"For Acknowledgement","actionID":"37","num_days":4,"projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true},{"is_default":false,"is_associated":true,"actionName":"For Action","actionID":"36","num_days":3,"projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true},{"is_default":true,"is_associated":true,"actionName":"For Information","actionID":"7","num_days":3,"projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true},{"is_default":false,"is_associated":true,"actionName":"Respond","actionID":"3","num_days":3,"projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true},{"is_default":false,"is_associated":true,"actionName":"Review Draft","actionID":"34","num_days":4,"projectId":"0","userId":0,"revisionId":"0","formId":"0","adoddleContextId":0,"customObjectInstanceId":"0","docId":"0","generateURI":true}],"formTypeGroupVO":{"formTypeGroupID":399,"formTypeGroupName":"Asite_Standard_Appbuilder_Template_Group","generateURI":true},"statusList":[{"is_associated":true,"closesOutForm":true,"hasAccess":true,"always_active":false,"userId":0,"isDeactive":false,"defaultPermissionId":0,"statusName":"Closed","statusID":3,"orgId":"0","proxyUserId":0,"isEnableForReviewComment":false,"generateURI":true},{"is_associated":true,"closesOutForm":false,"hasAccess":true,"always_active":false,"userId":0,"isDeactive":false,"defaultPermissionId":0,"statusName":"Closed-Approved","statusID":4,"orgId":"0","proxyUserId":0,"isEnableForReviewComment":false,"generateURI":true},{"is_associated":true,"closesOutForm":false,"hasAccess":true,"always_active":false,"userId":0,"isDeactive":false,"defaultPermissionId":0,"statusName":"Closed-Approved with Comments","statusID":5,"orgId":"0","proxyUserId":0,"isEnableForReviewComment":false,"generateURI":true},{"is_associated":true,"closesOutForm":false,"hasAccess":true,"always_active":false,"userId":0,"isDeactive":false,"defaultPermissionId":0,"statusName":"Closed-Rejected","statusID":6,"orgId":"0","proxyUserId":0,"isEnableForReviewComment":false,"generateURI":true},{"is_associated":false,"closesOutForm":false,"hasAccess":true,"always_active":false,"userId":0,"isDeactive":false,"defaultPermissionId":0,"statusName":"Open","statusID":1001,"orgId":"0","proxyUserId":0,"isEnableForReviewComment":false,"generateURI":true},{"is_associated":false,"closesOutForm":false,"hasAccess":true,"always_active":false,"userId":0,"isDeactive":false,"defaultPermissionId":0,"statusName":"Resolved","statusID":1002,"orgId":"0","proxyUserId":0,"isEnableForReviewComment":false,"generateURI":true},{"is_associated":false,"closesOutForm":false,"hasAccess":true,"always_active":false,"userId":0,"isDeactive":false,"defaultPermissionId":0,"statusName":"Verified","statusID":1003,"orgId":"0","proxyUserId":0,"isEnableForReviewComment":false,"generateURI":true}],"isFormInherited":false,"generateURI":true},"createdFormsCount":60,"draftFormsCount":62,"templatetype":2,"appId":2,"formTypeName":"Attachment","totalForms":60,"formtypeGroupid":399,"isFavourite":false,"appBuilderID":"Att-Inline","canViewDraftMsg":false,"formTypeGroupName":"Attachment","formGroupCode":"INAT","canCreateForm":true,"numActions":0,"crossWorkspaceID":-1,"instanceGroupId":11062773,"allow_associate_location":true,"numOverdueActions":0,"is_location_assoc_mandatory":false,"workspaceid":2130192}',1,1,2]

      ];
      ResultSet resultSet = ResultSet(columnNames, null, rows);
      SyncRequestTask siteSyncTask = SyncRequestTask()
        ..syncRequestId = DateTime.now().millisecondsSinceEpoch
        ..projectId = "2130192\$\$MqjZY3"
        ..projectName = "Site Quality Demo"
        ..isMarkOffline = true
        ..isMediaSyncEnable = true
        ..eSyncType = ESyncType.project
        ..projectSizeInByte = "253288002";

      when(() => mockFormTypeUseCase!.getProjectFormTypeListFromSync(projectId: '2130192\$\$MqjZY3',formTypeIds: "11076066,10973573,11070450", networkExecutionType: NetworkExecutionType.SYNC,taskNumber: taskNumber))
          .thenAnswer((_) async {
        return SUCCESS(fixture("formType_list_for_sync.json"), null, 200);
      });

      when(() => mockDb!.executeQuery(createQuery)).thenReturn(null);
      when(() => mockDb!.getPrimaryKeys(tableName)).thenReturn(primaryKeysList);
      when(() => mockDb!.selectFromTable(tableName, selectQuery)).thenReturn(resultSet);
      when(() => mockDb!.executeBulk(tableName, sqlQuery, insertValues)).thenAnswer((_) async=> null);
      await FormTypeListSyncTask(
        siteSyncTask, (eSyncTaskType, eSyncStatus, data) async {},
      ).getFormTypeList(projectId: '2130192\$\$MqjZY3',formTypeIds: "11076066,10973573,11070450");
      Completer completer = Completer();
      taskPool?.taskStatusStreamController?.stream.listen((task) {
        if(task.isDone){
          completer.complete();
        }
      });
      await completer.future;
      verify(()=>mockFormTypeUseCase!.getProjectFormTypeListFromSync(projectId: '2130192\$\$MqjZY3',formTypeIds: "11076066,10973573,11070450", networkExecutionType: NetworkExecutionType.SYNC,taskNumber: taskNumber)).called(1);
      taskPool.taskStatusStreamController?.close();
      taskNumber = taskNumber! + 1;
    });

    test("FormTypeList Sync fail", () async {
      taskPool.taskStatusStreamController = StreamController.broadcast();
      SyncRequestTask siteSyncTask = SyncRequestTask()
        ..syncRequestId = DateTime.now().millisecondsSinceEpoch
        ..projectId = "2130192\$\$C2Slan"
        ..projectName = "Site Quality Demo"
        ..isMarkOffline = true
        ..isMediaSyncEnable = true
        ..eSyncType = ESyncType.project
        ..projectSizeInByte = "253288002";

      when(() => mockFormTypeUseCase!.getProjectFormTypeListFromSync(projectId: '2130192\$\$C2Slan', formTypeIds: "10973567", networkExecutionType: NetworkExecutionType.SYNC, taskNumber: taskNumber)).thenAnswer((_) async {
        return FAIL(null, 400);
      });
      FormTypeListSyncTask formTypeListSyncTask = FormTypeListSyncTask(siteSyncTask, (eSyncTaskType, eSyncStatus, data) async {});
      await formTypeListSyncTask.getFormTypeList(projectId: '2130192\$\$C2Slan', formTypeIds: "10973567");
      Completer completer = Completer();
      taskPool.taskStatusStreamController?.stream.listen((task) {
        if (task.isDone) {
          completer.complete();
        }
      });
      await completer.future;
      verify(() => mockFormTypeUseCase!.getProjectFormTypeListFromSync(projectId: '2130192\$\$C2Slan', formTypeIds: "10973567", networkExecutionType: NetworkExecutionType.SYNC, taskNumber: taskNumber)).called(1);
    });
  });
}
